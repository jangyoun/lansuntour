(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{9116:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/festival",function(){return t(7765)}])},7725:function(e,n,t){"use strict";t.d(n,{X:function(){return l},Z:function(){return s}});var i=t(1438),o=t(2344),r=t(5017),s=function(){function e(){(0,i.Z)(this,e)}return e.merge=function(e,n){return(0,o.Z)([e,n],function(e,n){return(0,r.Z)(e,n)},{})},e.isMobile=function(e){var n=e.req?e.req.headers["user-agent"]:navigator.userAgent;return/(iPad|iPhone|Android|Mobile)/i.test(n)||!1},e}(),l=function e(){(0,i.Z)(this,e)};l.URL="https://www.jjatech.io"},974:function(e,n,t){"use strict";t.d(n,{AS:function(){return r},Yf:function(){return c},Y2:function(){return a},Oo:function(){return u}});var i=t(5893);t(7294);var o=t(5518);function r(e){return(0,i.jsx)(i.Fragment,{children:e.children(o)})}var s=t(2743),l=t.n(s),a=function(){return(0,i.jsxs)("div",{style:{height:40,width:"100%",display:"flex",flexDirection:"column"},children:[(0,i.jsxs)("div",{style:{flex:1,display:"flex"},children:[(0,i.jsx)("div",{className:l().header_logo,onClick:function(e){e.preventDefault(),window.open("/about","_blank","noopener,noreferrer")}}),(0,i.jsx)("div",{style:{flex:1}}),(0,i.jsx)("div",{className:l().header_menu_main,onClick:function(e){e.preventDefault(),window.open("/festival","_blank","noopener,noreferrer")},children:"지역축제"}),(0,i.jsx)("div",{style:{width:1}}),(0,i.jsx)("div",{className:l().header_menu_main,onClick:function(e){e.preventDefault(),window.open("/tour","_blank","noopener,noreferrer")},children:"지역명소"}),(0,i.jsx)("div",{className:l().header_menu_sub,onClick:function(e){e.preventDefault(),window.open("/about/#register","_blank","noopener,noreferrer")},children:"등록"}),(0,i.jsx)("div",{style:{width:20}})]}),(0,i.jsx)("div",{style:{height:1,width:"100%",backgroundColor:"#ccc"}})]})},d=t(7117),c=function(){return(0,i.jsx)("div",{style:{backgroundColor:"#333",fontSize:12,color:"#fff",padding:"4px 10px"},children:(0,i.jsxs)("span",{style:{cursor:"pointer"},onClick:function(e){e.preventDefault(),window.open("/about","_blank","noopener,noreferrer")},children:["랜선투어닷컴 :: 제휴 문의\xa0 ",(0,i.jsx)(d.Z,{})]})})},u=function(){return(0,i.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#fff",alignItems:"center"},children:[(0,i.jsx)("div",{className:l().m_header_logo,onClick:function(e){window.open("/about")}}),(0,i.jsx)("div",{style:{height:1,width:"100%",backgroundColor:"#ddd"}}),(0,i.jsxs)("div",{style:{width:"100%",display:"flex"},children:[(0,i.jsx)("div",{style:{flex:1,textAlign:"center",fontSize:14,fontWeight:"bold",margin:"2px 0px"},onClick:function(e){e.preventDefault(),window.open("/festival")},children:"지역 축제"}),(0,i.jsx)("div",{style:{width:1,backgroundColor:"#ddd"}}),(0,i.jsx)("div",{style:{flex:1,textAlign:"center",fontSize:14,fontWeight:"bold",margin:"2px 0px"},onClick:function(e){e.preventDefault(),window.open("/tour")},children:"지역 명소"})]}),(0,i.jsx)("div",{style:{height:1,width:"100%",backgroundColor:"#ddd"}})]})}},4969:function(e,n,t){"use strict";t.d(n,{i:function(){return l}});var i=t(1438),o=t(3871),r=t(7637),s=t(7725),l=function(){function e(){(0,i.Z)(this,e),this.polygons=[]}var n=e.prototype;return n.addGeoJson=function(e,n){var t,i;e&&e.coordinates&&(t=e.type,i=e.coordinates,"Polygon"===t?this.polygons=(0,o.Z)(i,function(e){var t=(0,o.Z)(e,function(e){return new kakao.maps.LatLng(e[1],e[0])});return new kakao.maps.Polygon(s.Z.merge({path:t},n))}):this.polygons=(0,o.Z)(i,function(e){var t=(0,o.Z)(e[0],function(e){return new kakao.maps.LatLng(e[1],e[0])});return new kakao.maps.Polygon(s.Z.merge({path:t},n))}))},n.addCircle=function(e,n,t,i){this.polygons=[new kakao.maps.Circle(s.Z.merge({center:new kakao.maps.LatLng(e,n),radius:t},i))]},n.setMap=function(e){for(var n=0;n<this.polygons.length;n++)this.polygons[n].setMap(e)},n.setZIndex=function(e){for(var n=0;n<this.polygons.length;n++)this.polygons[n].setZIndex(e)},n.setOptions=function(e){(0,r.Z)(this.polygons,function(n){n.setOptions(e)})},n.reset=function(){for(var e=0;e<this.polygons.length;e++)this.polygons[e].setMap(null)},n.getPolygons=function(){return this.polygons},e}();l.Style={Region:{Office:{fillColor:"#01abb9",fillOpacity:.3,strokeColor:"#01abb9",strokeWeight:2,strokeOpacity:1},Store:{fillColor:"#bb4f45",fillOpacity:.3,strokeColor:"#bb4f45",strokeWeight:2,strokeOpacity:1},Agent:{fillColor:"#7839d0",fillOpacity:.3,strokeColor:"#7839d0",strokeWeight:2,strokeOpacity:1},Branch:{fillColor:"#303537",fillOpacity:.2,strokeColor:"#303537",strokeWeight:2,strokeOpacity:.5}},Station:{fillColor:"#10aa17",fillOpacity:.3,strokeColor:"#10aa17",strokeWeight:2,strokeOpacity:1}}},7765:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return z}});var i=t(5893),o=t(7294),r=t(9008),s=t.n(r),l=t(974),a=t(1822),d=t(381),c=t.n(d),u=t(2266),f=t.n(u),h=t(4111),p=t(7568),g=t(1438),x=t(8029),v=t(797),y=t(460),m=t(655),k=t(3935),j=t(7637),w=t(991),_=t(7725),b=function(e){return(0,o.useEffect)(function(){},[]),(0,i.jsx)("div",{id:"region-festival-".concat(e.festival.id),onClick:function(){return e.onClickMarker(e.festival)},children:(0,i.jsxs)("div",{style:{margin:0,padding:0,lineHeight:1},children:[e.festival.title.replace(/(\s*)/g,"").substring(0,2),(0,i.jsx)("br",{}),e.festival.title.replace(/(\s*)/g,"").substring(2,4)]})})},C=t(4969),M=function(e){(0,x.Z)(t,e);var n=(0,y.Z)(t);function t(e){(0,g.Z)(this,t),(i=n.call(this,e)).mKakaoMap=null,i.mRegions=[],i.mFestivals=[];var i,r=(0,h.Z)(i);return i.getInfoByNetwork=(0,p.Z)(function(){var e,n,t,i;return(0,m.__generator)(this,function(n){switch(n.label){case 0:return r.props.onLoading(),e=r.mKakaoMap.getBounds(),r.mKakaoMap.getCenter(),[4,fetch(_.X.URL+"/api/tour/festivals/map/grid?swLng=".concat(e.oa,"&swLat=").concat(e.pa,"&neLng=").concat(e.ha,"&neLat=").concat(e.qa))];case 1:return[4,n.sent().json()];case 2:return i=n.sent(),r.props.onGridChanged(i),r.renderGrid(i),[2]}})}),i.mMapContainer=o.createRef(),i}var r=t.prototype;return r.render=function(){return(0,i.jsx)("div",{ref:this.mMapContainer,style:{height:"100%",width:"100%"}})},r.componentDidMount=function(){var e=this,n={center:new kakao.maps.LatLng(37.5739449022336,126.9768214538364),level:10};this.mKakaoMap=new kakao.maps.Map(this.mMapContainer.current,n),kakao.maps.event.addListener(this.mKakaoMap,"zoom_start",function(){(0,j.Z)(e.mRegions,function(e){e.marker.setMap(null),e.polygon.setMap(null)}),(0,j.Z)(e.mFestivals,function(e){e.marker.setMap(null),e.polygon.setMap(null)})}),kakao.maps.event.addListener(this.mKakaoMap,"zoom_end",function(){return e.getInfoByNetwork()}),kakao.maps.event.addListener(this.mKakaoMap,"dragend",function(){return e.getInfoByNetwork()}),this.getInfoByNetwork()},r.renderGrid=function(e){var n=this,t=[],o=[];(0,j.Z)(e,function(e){var i=(0,w.Z)(n.mFestivals,function(n){return n.festival.id===e.id});if(i){t.push(i);return}var r=new kakao.maps.CustomOverlay({position:new kakao.maps.LatLng(e.latitude,e.longitude),content:'<div id="'.concat(e.id,'" class="').concat(f().region_icon_festival,'" />'),zIndex:0}),s=new C.i;o.push({festival:e,marker:r,polygon:s})}),(0,j.Z)(this.mFestivals,function(e){(0,w.Z)(t,function(n){return n.festival.id===e.festival.id})||e.marker.setMap(null)}),this.mFestivals=(0,v.Z)(t).concat((0,v.Z)(o)),(0,j.Z)(this.mFestivals,function(e){e.marker.getMap()||e.marker.setMap(n.mKakaoMap);var t=document.getElementById("".concat(e.festival.id));t&&k.render((0,i.jsx)(b,{festival:e.festival,onClickMarker:function(e){return n.props.onClickMarker(e)}}),t)})},t}(o.Component),Z=t(1382),D=t(7937),Y=t(7117),N=function(e){(0,x.Z)(t,e);var n=(0,y.Z)(t);function t(e){var i;return(0,g.Z)(this,t),(i=n.call(this,e)).mMapContainer=o.createRef(),i}var r=t.prototype;return r.render=function(){return(0,i.jsx)("div",{className:"map",ref:this.mMapContainer,style:{height:"100%",width:"100%"}})},r.componentDidMount=function(){var e={center:new kakao.maps.LatLng(this.props.lat,this.props.lon),level:this.props.zoom,draggable:!1,scrollwheel:!1,disableDoubleClick:!0,disableDoubleClickZoom:!0},n=new kakao.maps.Map(this.mMapContainer.current,e);new kakao.maps.Marker({position:new kakao.maps.LatLng(this.props.lat,this.props.lon)}).setMap(n)},t}(o.Component),L=function(e){var n=(0,o.useState)(!1),t=n[0],r=n[1],s=(0,o.useState)(null),l=s[0],a=s[1];(0,o.useEffect)(function(){e.id&&h(e.id)},[e.id]);var d,u=function(){r(!0),e.onClose()},h=(d=(0,p.Z)(function(e){var n,t,i;return(0,m.__generator)(this,function(n){switch(n.label){case 0:return r(!0),[4,new Promise(function(e){return setTimeout(e,500)})];case 1:return n.sent(),[4,fetch(_.X.URL+"/api/tour/festivals/info/".concat(e))];case 2:return[4,n.sent().json()];case 3:return i=n.sent(),r(!1),a(i),[2]}})}),function(e){return d.apply(this,arguments)});return(0,i.jsx)(i.Fragment,{children:e.hidden?(0,i.jsx)(i.Fragment,{}):(0,i.jsxs)("div",{style:{width:"100%",height:"100%",position:"absolute",zIndex:10,display:"flex"},children:[(0,i.jsx)("div",{style:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.7)"},onClick:function(){return u()}}),(0,i.jsxs)("div",{style:{width:460,backgroundColor:"#fff",display:"flex",flexDirection:"column"},children:[(0,i.jsxs)("div",{style:{display:"flex",fontSize:14,padding:4},children:[(0,i.jsx)("div",{className:f().close_text,onClick:function(){return u()},children:(0,i.jsx)(D.Z,{})}),(0,i.jsx)("div",{style:{flex:1,textAlign:"center",fontWeight:"bold"},children:e.name})]}),(0,i.jsx)("div",{style:{backgroundColor:"#004ea7",height:1}}),t?(0,i.jsxs)("div",{style:{width:460,backgroundColor:"#fff",textAlign:"center",paddingTop:20},children:[" ",(0,i.jsx)(Z.Z,{size:"large"})]}):(0,i.jsxs)("div",{style:{flex:1,overflow:"auto",fontSize:12},children:[(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)("div",{style:{width:60,backgroundColor:"#f0f0f0",textAlign:"center",padding:4},children:"축제"}),(0,i.jsxs)("div",{style:{flex:1,cursor:"pointer",padding:"4px 10px"},onClick:function(e){e.preventDefault();var n="https://www.google.com/search?q=".concat(encodeURIComponent(null==l?void 0:l.title));window.open(n,"_blank","noopener,noreferrer")},children:[null==l?void 0:l.title," ",(0,i.jsx)(Y.Z,{})]})]}),(0,i.jsx)("div",{style:{backgroundColor:"#ccc",height:1}}),(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)("div",{style:{width:60,backgroundColor:"#f0f0f0",textAlign:"center",padding:4},children:"기간"}),(0,i.jsxs)("div",{style:{flex:1,padding:"4px 10px"},children:[(null==l?void 0:l.eventstartdate)?c()(null==l?void 0:l.eventstartdate,"YYYYMMDD").format("YYYY.MM.DD"):"","\xa0\xa0-\xa0\xa0",(null==l?void 0:l.eventenddate)?c()(null==l?void 0:l.eventenddate,"YYYYMMDD").format("YYYY.MM.DD"):""]})]}),(0,i.jsx)("div",{style:{backgroundColor:"#ccc",height:1}}),(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)("div",{style:{width:60,backgroundColor:"#f0f0f0",textAlign:"center",padding:4},children:"전화"}),(0,i.jsx)("div",{style:{flex:1,padding:"4px 10px"},children:null==l?void 0:l.tel})]}),(0,i.jsx)("div",{style:{backgroundColor:"#ccc",height:1}}),(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)("div",{style:{width:60,backgroundColor:"#f0f0f0",textAlign:"center",padding:4},children:"가격"}),(0,i.jsx)("div",{style:{flex:1,padding:"4px 10px"},children:""})]}),(0,i.jsx)("div",{style:{backgroundColor:"#ccc",height:1}}),(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)("div",{style:{width:60,backgroundColor:"#f0f0f0",textAlign:"center",padding:4},children:"주차"}),(0,i.jsx)("div",{style:{flex:1,padding:"4px 10px"},children:""})]}),(0,i.jsx)("div",{style:{backgroundColor:"#ccc",height:1}}),(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)("div",{style:{width:60,backgroundColor:"#f0f0f0",textAlign:"center",padding:4},children:"주소"}),(0,i.jsxs)("div",{style:{flex:1,cursor:"pointer",padding:"4px 10px"},onClick:function(e){},children:[null==l?void 0:l.addr1," ",(0,i.jsx)(Y.Z,{})]})]}),(0,i.jsx)("div",{style:{backgroundColor:"#ccc",height:1}}),(0,i.jsx)("div",{style:{height:100,padding:"0px 0px",backgroundColor:"lightgray"},children:(null==l?void 0:l.latitude)==null||(null==l?void 0:l.longitude)==null?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(N,{lat:null==l?void 0:l.latitude,lon:null==l?void 0:l.longitude,zoom:4})}),(0,i.jsx)("div",{style:{backgroundColor:"#ccc",height:1}}),(0,i.jsx)("img",{className:f().side_detail_img,src:null==l?void 0:l.firstimage})]})]})]})})},S=function(){var e=(0,o.useState)([]),n=e[0],t=e[1],r=(0,o.useState)(!1),s=r[0],l=r[1],d=(0,o.useState)({id:null,name:null,hidden:!0}),u=d[0],h=d[1],p=c()();return(0,o.useEffect)(function(){},[]),(0,i.jsxs)("div",{style:{flex:1,position:"relative"},children:[(0,i.jsxs)("div",{style:{width:"100%",height:"100%",position:"absolute",display:"flex"},children:[(0,i.jsx)("div",{style:{flex:1},children:(0,i.jsx)(M,{onLoading:function(){l(!0),t([])},onGridChanged:function(e){l(!1),t(e.sort(function(){return Math.random()-.5}))},onClickMarker:function(e){h({id:e.id,name:e.title,hidden:!1})}})}),(0,i.jsx)("div",{style:{width:480,overflow:"auto"},children:(0,i.jsx)(a.ZP,{dataSource:n,split:!0,loading:s,header:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",height:22},children:[(0,i.jsx)("div",{className:f().festival_title,children:"지역 축제 :: ".concat(n.length,"개")}),(0,i.jsx)("div",{style:{width:210,display:"flex",textAlign:"center"},children:["월","화","수","목","금","토","일","월","화","수","목","금","토","일"].map(function(e,n){return c()().startOf("isoWeek").add(n,"days"),(0,i.jsx)("div",{style:{width:15,fontSize:14,margin:0,padding:0,fontWeight:"bold",color:5==n||6==n||12==n||13==n?"#f04125":"#333"},children:e},n)})}),(0,i.jsx)("div",{style:{width:20}})]}),(0,i.jsx)("div",{style:{backgroundColor:"#ff816e",height:1}})]}),renderItem:function(e,n){return(0,i.jsx)(a.ZP.Item,{style:{padding:0},children:(0,i.jsxs)("div",{style:{width:"100%",position:"relative",height:22},children:[(0,i.jsx)("div",{style:{position:"absolute",zIndex:1,width:"130px",marginTop:3,marginLeft:4,fontSize:10,overflow:"hidden",whiteSpace:"nowrap",fontWeight:"bold",cursor:"pointer"},onMouseOut:function(n){var t=n.target;t.style.background="#fff",t.style.width="130px";var i=document.getElementById("region-festival-".concat(e.id));(null==i?void 0:i.parentNode)&&(i.parentNode.style.background="#000"),(null==i?void 0:i.parentNode.parentNode)&&(i.parentNode.parentNode.style.zIndex=0)},onMouseOver:function(n){var t=n.target;t.style.background="rgba(219, 233, 255, 0.8)",t.style.width="460px";var i=document.getElementById("region-festival-".concat(e.id));(null==i?void 0:i.parentNode)&&(i.parentNode.style.background="#f04125"),(null==i?void 0:i.parentNode.parentNode)&&(i.parentNode.parentNode.style.zIndex=9)},onClick:function(){return h({id:e.id,name:e.title,hidden:!1})},children:e.title}),(0,i.jsxs)("div",{style:{width:"100%",display:"flex",fontSize:10},children:[(0,i.jsx)("div",{style:{flex:1}}),(0,i.jsxs)("div",{style:{width:90,marginTop:2},children:[(0,i.jsx)("span",{style:{color:"#ddd"},children:"|\xa0\xa0"}),(0,i.jsxs)("span",{children:[c()(e.eventstartdate,"YYYYMMDD").format("MM.DD")," - ",c()(e.eventenddate,"YYYYMMDD").format("MM.DD")]})]}),(0,i.jsx)("div",{style:{width:210,display:"flex"},children:Array.from(Array(14).keys()).map(function(n){var t=c()(e.eventstartdate,"YYYYMMDD"),o=c()(e.eventenddate,"YYYYMMDD"),r=c()().startOf("isoWeek").add(n,"days"),s=p.isSameOrBefore(r,"d"),l=r.isBetween(t,o,"days","[]");return(0,i.jsxs)("div",{style:{width:15,position:"relative"},children:[(0,i.jsxs)("span",{style:{fontSize:10,color:"#ddd",width:14,position:"absolute",marginTop:3,display:"flex",alignItems:"center",justifyContent:"center"},children:[" ",r.format("D")]}),(0,i.jsx)("div",{style:{height:14,width:14,marginTop:3,borderRadius:3,backgroundColor:l?s?"#004ea7":"#bbb":"#fff"}})]},n)})}),(0,i.jsx)("div",{style:{width:20}})]})]})},n)}})})]}),(0,i.jsx)(L,{id:u.id,name:u.name,hidden:u.hidden,onClose:function(){return h({id:null,name:null,hidden:!0})},onMove:function(e,n,t){console.log("onMove",e,n,t)}})]})},z=function(e){return(0,i.jsx)(l.AS,{children:function(e){return e.isMobile?(0,i.jsxs)("div",{children:[(0,i.jsxs)(s(),{children:[(0,i.jsx)("title",{children:"랜선투어닷컴 :: 지역 명소"}),(0,i.jsx)("meta",{name:"description",content:"랜선투어닷컴 - 다양한 지역 축제를 찾아보세요"})]}),(0,i.jsx)(i.Fragment,{children:"mobile :: Festival"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s(),{children:[(0,i.jsx)("title",{children:"랜선투어닷컴 :: 지역 명소"}),(0,i.jsx)("meta",{name:"description",content:"랜선투어닷컴 - 다양한 지역 축제를 찾아보세요"}),(0,i.jsx)("script",{type:"text/javascript",src:"//dapi.kakao.com/v2/maps/sdk.js?appkey=83c09aacb4a65b4a839e538ef4402966&libraries=services"})]}),(0,i.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,i.jsx)(l.Y2,{}),(0,i.jsx)(S,{}),(0,i.jsx)(l.Yf,{})]})]})}})}},2266:function(e){e.exports={festival_title:"festival_festival_title__VHVkB",region_icon_festival:"festival_region_icon_festival__Kdt2s",close_text:"festival_close_text__zh9Nl",side_detail_img:"festival_side_detail_img__p_60z"}},2743:function(e){e.exports={header_logo:"layout_header_logo___78GJ",header_menu_main:"layout_header_menu_main__3Sq0T",header_menu_sub:"layout_header_menu_sub__CzGaL",m_header_logo:"layout_m_header_logo__uoAm5"}}},function(e){e.O(0,[885,491,715,866,48,774,888,179],function(){return e(e.s=9116)}),_N_E=e.O()}]);